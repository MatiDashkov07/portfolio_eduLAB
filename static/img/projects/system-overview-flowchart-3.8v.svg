<svg width="1400" height="520" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Technical grid pattern -->
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#000000" stroke-width="1" opacity="0.05"/>
    </pattern>
    
    <!-- Subtle drop shadow -->
    <filter id="shadow">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="0" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.15"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Arrow marker for main chain -->
    <marker id="arrowMain" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#111111"/>
    </marker>
    
    <!-- Arrow marker for peripherals -->
    <marker id="arrowPeripheral" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L7,3 z" fill="#444444"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="520" fill="#FFFFFF"/>
  <rect width="1400" height="520" fill="url(#grid)"/>
  
  <!-- Main Header -->
  <text x="30" y="35" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="22" font-weight="bold" fill="#111111">
    eduLAB — Hardware Overview (v3.8)
  </text>
  <text x="30" y="55" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="14" fill="#444444">
    PWM-based audio synthesis with transistor switching fundamentals
  </text>
  
  <!-- INPUT / CONTROL PERIPHERALS Section -->
  
  <!-- Section Title -->
  <text x="225" y="90" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" font-weight="600" fill="#666666" text-anchor="middle">
    INPUT / CONTROL PERIPHERALS
  </text>
  
  <!-- Row 1: Potentiometers -->
  
  <!-- P1 Potentiometer -->
  <rect x="90" y="105" width="125" height="55" rx="12" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="152.5" y="125" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" font-weight="bold" fill="#111111" text-anchor="middle">P1 Pot (RV09)</text>
  <text x="152.5" y="145" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#444444" text-anchor="middle">Pitch • GPIO1</text>
  
  <!-- P2 Potentiometer -->
  <rect x="235" y="105" width="125" height="55" rx="12" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="297.5" y="125" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" font-weight="bold" fill="#111111" text-anchor="middle">P2 Pot (RV09)</text>
  <text x="297.5" y="145" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#444444" text-anchor="middle">Duty • GPIO2</text>
  
  <!-- Row 2: Encoder & Display -->
  
  <!-- Rotary Encoder -->
  <rect x="90" y="175" width="125" height="55" rx="12" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="152.5" y="195" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" font-weight="bold" fill="#111111" text-anchor="middle">Encoder (HW-040)</text>
  <text x="152.5" y="215" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#444444" text-anchor="middle">GPIO 6,7,15</text>
  
  <!-- OLED Display -->
  <rect x="235" y="175" width="125" height="55" rx="12" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="297.5" y="195" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" font-weight="bold" fill="#111111" text-anchor="middle">OLED 0.91"</text>
  <text x="297.5" y="215" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#444444" text-anchor="middle">I2C GPIO 4,5</text>
  
  <!-- Arrows from peripherals to MCU -->
  <path d="M 152.5 230 L 152.5 265" stroke="#444444" stroke-width="2" fill="none" marker-end="url(#arrowPeripheral)"/>
  <path d="M 297.5 230 L 297.5 265" stroke="#444444" stroke-width="2" fill="none" marker-end="url(#arrowPeripheral)"/>
  <path d="M 152.5 160 L 152.5 172" stroke="#444444" stroke-width="2" fill="none" marker-end="url(#arrowPeripheral)"/>
  <path d="M 297.5 160 L 297.5 172" stroke="#444444" stroke-width="2" fill="none" marker-end="url(#arrowPeripheral)"/>
  
  <!-- AUDIO SIGNAL CHAIN Section -->
  
  <!-- Section Title -->
  <text x="700" y="250" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" font-weight="600" fill="#666666" text-anchor="middle">
    AUDIO SIGNAL CHAIN
  </text>
  
  <!-- ESP32-S3 MCU -->
  <rect x="100" y="270" width="260" height="110" rx="14" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="230" y="305" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="16" font-weight="bold" fill="#111111" text-anchor="middle">ESP32-S3 MCU</text>
  <text x="230" y="328" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" fill="#444444" text-anchor="middle">N16R8 DevKit • 3.3V logic</text>
  <text x="230" y="355" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="11" fill="#555555" text-anchor="middle">Power: USB 5V → onboard 3.3V LDO</text>
  
  <!-- PWM Signal -->
  <rect x="440" y="270" width="260" height="110" rx="14" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="570" y="305" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="16" font-weight="bold" fill="#111111" text-anchor="middle">PWM Signal</text>
  <text x="570" y="328" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" fill="#444444" text-anchor="middle">LEDC GPIO16 → Transistor Base</text>
  
  <!-- Transistor Driver -->
  <rect x="780" y="270" width="260" height="110" rx="14" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="910" y="305" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="16" font-weight="bold" fill="#111111" text-anchor="middle">Transistor Driver</text>
  <text x="910" y="328" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" fill="#444444" text-anchor="middle">2N2222A • 1 kΩ base</text>
  
  <!-- Load (Speaker) -->
  <rect x="1120" y="270" width="260" height="110" rx="14" fill="#FAFAFA" stroke="#222222" stroke-width="2.5" filter="url(#shadow)"/>
  <text x="1250" y="305" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="16" font-weight="bold" fill="#111111" text-anchor="middle">Load</text>
  <text x="1250" y="328" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="13" fill="#444444" text-anchor="middle">8 Ω Speaker • 1N4007 Flyback</text>
  
  <!-- Main chain arrows -->
  <path d="M 360 325 L 435 325" stroke="#111111" stroke-width="4" fill="none" marker-end="url(#arrowMain)"/>
  <path d="M 700 325 L 775 325" stroke="#111111" stroke-width="4" fill="none" marker-end="url(#arrowMain)"/>
  <path d="M 1040 325 L 1115 325" stroke="#111111" stroke-width="4" fill="none" marker-end="url(#arrowMain)"/>
  
  <!-- Footer note -->
  <text x="1370" y="500" font-family="system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif" font-size="12" fill="#555555" text-anchor="end">
    v3.8 intentionally uses PWM + transistor switching to understand low-level audio generation before v4.0 I2S/DAC upgrade.
  </text>
</svg>