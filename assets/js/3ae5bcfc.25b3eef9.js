"use strict";(globalThis.webpackChunkportfolio_edu_lab=globalThis.webpackChunkportfolio_edu_lab||[]).push([[1209],{1406(s,e,a){a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>h});var i=a(5060),n=a(4848),t=a(8453);const l={slug:"inductive-kickback-analysis",title:"Saved by Physics: Analyzing Inductive Kickback & Back EMF",authors:["mati"],tags:["hardware","debugging","theory","oscilloscope","esp32","analog-design","measurements","edulab-synthesis-engine","circuit-protection"]},r=void 0,c={authorsImageUrls:[void 0]},h=[{value:"The Context: Driving an Inductive Load",id:"the-context-driving-an-inductive-load",level:2},{value:"The Symptom",id:"the-symptom",level:2},{value:"The Physics: Deep Dive into Back EMF",id:"the-physics-deep-dive-into-back-emf",level:2},{value:"What happened in the circuit?",id:"what-happened-in-the-circuit",level:3},{value:"The Solution: Flyback Diode",id:"the-solution-flyback-diode",level:2},{value:"The Modified Schematic",id:"the-modified-schematic",level:3},{value:"Conclusion",id:"conclusion",level:2}];function m(s){const e={annotation:"annotation",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...s.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:"During a routine test of the eduLAB Synthesis Engine's audio output stage, I encountered a phenomenon that could have easily destroyed my ESP32 microcontroller. What started as a weird spike on the oscilloscope turned into a deep dive into electromagnetic induction."}),"\n",(0,n.jsx)(e.p,{children:"Here is how I diagnosed, analyzed, and solved an Inductive Kickback event."}),"\n",(0,n.jsx)(e.h2,{id:"the-context-driving-an-inductive-load",children:"The Context: Driving an Inductive Load"}),"\n",(0,n.jsxs)(e.p,{children:["We are currently in ",(0,n.jsx)(e.strong,{children:"Phase v3.8"})," of the project. The goal was to test the direct drive capabilities of the output transistor stage before integrating the final DAC. The setup involved connecting a small 8\u03a9 speaker coil directly to the switching circuit controlled by a GPIO pin."]}),"\n",(0,n.jsx)(e.p,{children:'Everything sounded fine, but as an engineer, "sounding fine" isn\'t enough. I hooked up the Rigol oscilloscope to monitor the voltage levels on the drain of the MOSFET/Output pin.'}),"\n",(0,n.jsx)(e.h2,{id:"the-symptom",children:"The Symptom"}),"\n",(0,n.jsx)(e.p,{children:"When I cut the power to the coil (simulating a logic LOW or a disconnection), the oscilloscope captured this alarming transient response:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"Oscilloscope Trace of Voltage Spike",src:a(7687).A+"",width:"3072",height:"4096"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"The Analysis:"})}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"System Logic Level:"})," 3.3V (ESP32 standard)."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Measured Spike:"})," ",(0,n.jsx)(e.strong,{children:"6.16V"}),"."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Risk:"})," This is nearly double the maximum rated voltage for the ESP32 GPIO pins. A sustained spike of this magnitude would likely cause dielectric breakdown in the transistor gates inside the chip, permanently damaging the microcontroller."]}),"\n"]}),"\n",(0,n.jsx)(e.h2,{id:"the-physics-deep-dive-into-back-emf",children:"The Physics: Deep Dive into Back EMF"}),"\n",(0,n.jsxs)(e.p,{children:["Why did the voltage jump when the power was ",(0,n.jsx)(e.em,{children:"cut"}),"? The answer lies in the physics of inductors."]}),"\n",(0,n.jsxs)(e.p,{children:["A speaker voice coil is electrically an ",(0,n.jsxs)(e.strong,{children:["Inductor (",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"L"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"L"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"L"})]})})]}),")"]}),". Inductors store energy in a magnetic field. According to Faraday's Law of Induction and Lenz's Law, an inductor resists any change in the current flowing through it."]}),"\n",(0,n.jsx)(e.p,{children:"The voltage across an inductor is defined by the formula:"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"The Inductor Voltage Formula:"})}),"\n",(0,n.jsx)(e.span,{className:"katex-display",children:(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"V"}),(0,n.jsx)(e.mi,{children:"L"})]}),(0,n.jsx)(e.mo,{children:"="}),(0,n.jsx)(e.mo,{children:"\u2212"}),(0,n.jsx)(e.mi,{children:"L"}),(0,n.jsx)(e.mo,{children:"\u22c5"}),(0,n.jsxs)(e.mfrac,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"t"})]})]})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"V_L = -L \\cdot \\frac{di}{dt}"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"V"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.2222em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(e.span,{className:"mrel",children:"="}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.7667em",verticalAlign:"-0.0833em"}}),(0,n.jsx)(e.span,{className:"mord",children:"\u2212"}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"L"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(e.span,{className:"mbin",children:"\u22c5"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"2.0574em",verticalAlign:"-0.686em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,n.jsx)(e.span,{className:"mfrac",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsxs)(e.span,{className:"vlist",style:{height:"1.3714em"},children:[(0,n.jsxs)(e.span,{style:{top:"-2.314em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"t"})]})]}),(0,n.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,n.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"i"})]})]})]}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.686em"},children:(0,n.jsx)(e.span,{})})})]})}),(0,n.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,n.jsx)(e.p,{children:"Where:"}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"V"}),(0,n.jsx)(e.mi,{children:"L"})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"V_{L}"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"V"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3283em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.2222em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"L"})})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]})," is the induced electromotive force (EMF)."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"L"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"L"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"L"})]})})]})," is the inductance (in Henries)."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.mfrac,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"t"})]})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{di}{dt}"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"1.2251em",verticalAlign:"-0.345em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,n.jsx)(e.span,{className:"mfrac",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsxs)(e.span,{className:"vlist",style:{height:"0.8801em"},children:[(0,n.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsxs)(e.span,{className:"mord mtight",children:[(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})]})})]}),(0,n.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,n.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsxs)(e.span,{className:"mord mtight",children:[(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})]})})]})]}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,n.jsx)(e.span,{})})})]})}),(0,n.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]})," is the rate of change of current over time."]}),"\n"]}),"\n",(0,n.jsx)(e.h3,{id:"what-happened-in-the-circuit",children:"What happened in the circuit?"}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Switch Closed:"})," Current (",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsx)(e.mi,{children:"i"})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"i"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6595em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"i"})]})})]}),") flows steadily through the coil. The magnetic field is stable."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Switch Opened:"})," We tried to stop the current instantly. This means ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"t"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"dt"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal",children:"t"})]})})]})," (time change) approaches zero."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"The Result:"})," Since we are dividing by a number close to zero, the rate of change (",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.mfrac,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"i"})]}),(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"d"}),(0,n.jsx)(e.mi,{children:"t"})]})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"\\frac{di}{dt}"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"1.2251em",verticalAlign:"-0.345em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,n.jsx)(e.span,{className:"mfrac",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsxs)(e.span,{className:"vlist",style:{height:"0.8801em"},children:[(0,n.jsxs)(e.span,{style:{top:"-2.655em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsxs)(e.span,{className:"mord mtight",children:[(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"t"})]})})]}),(0,n.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,n.jsxs)(e.span,{style:{top:"-3.394em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsxs)(e.span,{className:"mord mtight",children:[(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"d"}),(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})]})})]})]}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.345em"},children:(0,n.jsx)(e.span,{})})})]})}),(0,n.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})})]}),") becomes huge and negative."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"The Spike:"})," The inductor responds by creating a massive ",(0,n.jsx)(e.strong,{children:"positive voltage"}),' in the opposite direction to try and keep the current flowing. This is the "Kickback" (or Flyback).']}),"\n"]}),"\n",(0,n.jsx)(e.h2,{id:"the-solution-flyback-diode",children:"The Solution: Flyback Diode"}),"\n",(0,n.jsx)(e.p,{children:"To fix this, we need to provide a safe path for this stored energy to dissipate, so it doesn't force its way through the microcontroller or the transistor."}),"\n",(0,n.jsxs)(e.p,{children:["We introduced a ",(0,n.jsx)(e.strong,{children:"Flyback Diode"})," (also known as a Snubber or Freewheeling Diode) placed anti-parallel to the inductive load."]}),"\n",(0,n.jsx)(e.h3,{id:"the-modified-schematic",children:"The Modified Schematic"}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:"Circuit Schematic with Flyback Diode",src:a(5687).A+"",width:"499",height:"515"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"How it works:"})}),"\n",(0,n.jsxs)(e.ol,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Normal Operation:"})," The diode is reverse-biased (blocking). No current flows through it."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Switch Off:"}),' The inductor reverses polarity (the "Kickback").']}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Protection Mode:"})," The diode becomes forward-biased. The current circulates through the diode and the coil loop until the energy dissipates as heat in the wire resistance (",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsx)(e.mrow,{children:(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"R"}),(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"w"}),(0,n.jsx)(e.mi,{children:"i"}),(0,n.jsx)(e.mi,{children:"r"}),(0,n.jsx)(e.mi,{children:"e"})]})]})}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"R_{wire}"})]})})}),(0,n.jsx)(e.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.00773em"},children:"R"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.0077em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsxs)(e.span,{className:"mord mtight",children:[(0,n.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.02691em"},children:"w"}),(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"}),(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"re"})]})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]})]})})]}),"), clamping the voltage spike to a safe level (usually ",(0,n.jsxs)(e.span,{className:"katex",children:[(0,n.jsx)(e.span,{className:"katex-mathml",children:(0,n.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(e.semantics,{children:[(0,n.jsxs)(e.mrow,{children:[(0,n.jsxs)(e.msub,{children:[(0,n.jsx)(e.mi,{children:"V"}),(0,n.jsxs)(e.mrow,{children:[(0,n.jsx)(e.mi,{children:"c"}),(0,n.jsx)(e.mi,{children:"c"})]})]}),(0,n.jsx)(e.mo,{children:"+"}),(0,n.jsx)(e.mn,{children:"0.7"}),(0,n.jsx)(e.mi,{children:"V"})]}),(0,n.jsx)(e.annotation,{encoding:"application/x-tex",children:"V_{cc} + 0.7V"})]})})}),(0,n.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,n.jsxs)(e.span,{className:"mord",children:[(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"V"}),(0,n.jsx)(e.span,{className:"msupsub",children:(0,n.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(e.span,{className:"vlist-r",children:[(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.1514em"},children:(0,n.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.2222em",marginRight:"0.05em"},children:[(0,n.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(e.span,{className:"mord mtight",children:(0,n.jsx)(e.span,{className:"mord mathnormal mtight",children:"cc"})})})]})}),(0,n.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(e.span,{className:"vlist-r",children:(0,n.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,n.jsx)(e.span,{})})})]})})]}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(e.span,{className:"mbin",children:"+"}),(0,n.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,n.jsxs)(e.span,{className:"base",children:[(0,n.jsx)(e.span,{className:"strut",style:{height:"0.6833em"}}),(0,n.jsx)(e.span,{className:"mord",children:"0.7"}),(0,n.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.22222em"},children:"V"})]})]})]}),")."]}),"\n"]}),"\n",(0,n.jsx)(e.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,n.jsxs)(e.p,{children:["This investigation reinforced a critical lesson in embedded hardware design: ",(0,n.jsx)(e.strong,{children:"Never treat components as ideal."})," A speaker isn't just a resistor; it's an energy storage device."]}),"\n",(0,n.jsx)(e.p,{children:"By visualizing the signal on the oscilloscope, we caught a potential hardware-killing bug that a simple multimeter or listening test would have missed."}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.strong,{children:"Next Steps:"})}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"Implementing a permanent 1N5819 Schottky diode (for faster switching speed) on the PCB v4.0."}),"\n",(0,n.jsx)(e.li,{children:"Further analysis of the analog filter stage to ensure signal integrity."}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,t.R)(),...s.components};return e?(0,n.jsx)(e,{...s,children:(0,n.jsx)(m,{...s})}):m(s)}},5060(s){s.exports=JSON.parse('{"permalink":"/portfolio_eduLAB/blog/inductive-kickback-analysis","source":"@site/blog/2026-01-18-inductive-kickback.md","title":"Saved by Physics: Analyzing Inductive Kickback & Back EMF","description":"During a routine test of the eduLAB Synthesis Engine\'s audio output stage, I encountered a phenomenon that could have easily destroyed my ESP32 microcontroller. What started as a weird spike on the oscilloscope turned into a deep dive into electromagnetic induction.","date":"2026-01-18T00:00:00.000Z","tags":[{"inline":false,"label":"Hardware","permalink":"/portfolio_eduLAB/blog/tags/hardware","description":"Hardware design and debugging"},{"inline":false,"label":"Debugging","permalink":"/portfolio_eduLAB/blog/tags/debugging","description":"Debugging stories and solutions"},{"inline":false,"label":"Theory","permalink":"/portfolio_eduLAB/blog/tags/theory","description":"Theoretical explanations"},{"inline":false,"label":"Oscilloscope","permalink":"/portfolio_eduLAB/blog/tags/oscilloscope","description":"Oscilloscope measurements and analysis"},{"inline":false,"label":"ESP32","permalink":"/portfolio_eduLAB/blog/tags/esp32","description":"ESP32 microcontroller projects"},{"inline":false,"label":"Analog Design","permalink":"/portfolio_eduLAB/blog/tags/analog-design","description":"Analog circuit design"},{"inline":false,"label":"Measurements","permalink":"/portfolio_eduLAB/blog/tags/measurements","description":"Lab measurements and verification"},{"inline":false,"label":"eduLAB Synthesis Engine","permalink":"/portfolio_eduLAB/blog/tags/edulab-synthesis-engine","description":"eduLAB synthesis engine project"},{"inline":false,"label":"Circuit Protection","permalink":"/portfolio_eduLAB/blog/tags/circuit-protection","description":"Protection circuits and safety"}],"readingTime":3.13,"hasTruncateMarker":false,"authors":[{"name":"Mati Dashkov","title":"Aspiring Hardware Engineer","url":"https://github.com/MatiDashkov07","page":{"permalink":"/portfolio_eduLAB/blog/authors/mati"},"socials":{"github":"https://github.com/MatiDashkov07","linkedin":"https://www.linkedin.com/in/mati-dashkov-33740b375/"},"imageURL":"https://github.com/MatiDashkov07.png","key":"mati"}],"frontMatter":{"slug":"inductive-kickback-analysis","title":"Saved by Physics: Analyzing Inductive Kickback & Back EMF","authors":["mati"],"tags":["hardware","debugging","theory","oscilloscope","esp32","analog-design","measurements","edulab-synthesis-engine","circuit-protection"]},"unlisted":false,"prevItem":{"title":"Why You Should Think Twice Before Connecting a Buzzer Directly to a GPIO","permalink":"/portfolio_eduLAB/blog/never-connect-buzzer-directly"},"nextItem":{"title":"Welcome to eduLAB Engineering Blog","permalink":"/portfolio_eduLAB/blog/welcome-to-edulab-blog"}}')},5687(s,e,a){a.d(e,{A:()=>i});const i=a.p+"assets/images/flyback-diode-schematic-45462ccdcb7deba9c11bb91cfa3bb473.png"},7687(s,e,a){a.d(e,{A:()=>i});const i=a.p+"assets/images/kickback-scope-trace-04b7215d769b3cf9e9523d5ca20ce798.jpg"},8453(s,e,a){a.d(e,{R:()=>l,x:()=>r});var i=a(6540);const n={},t=i.createContext(n);function l(s){const e=i.useContext(t);return i.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(n):s.components||n:l(s.components),i.createElement(t.Provider,{value:e},s.children)}}}]);