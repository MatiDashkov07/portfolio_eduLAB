<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://MatiDashkov07.github.io/portfolio_eduLAB/blog</id>
    <title>eduLAB Blog</title>
    <updated>2026-01-24T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://MatiDashkov07.github.io/portfolio_eduLAB/blog"/>
    <subtitle>eduLAB Blog</subtitle>
    <icon>https://MatiDashkov07.github.io/portfolio_eduLAB/img/edulab-icon-light.svg</icon>
    <entry>
        <title type="html"><![CDATA[Why You Should Think Twice Before Connecting a Buzzer Directly to a GPIO]]></title>
        <id>https://MatiDashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly</id>
        <link href="https://MatiDashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly"/>
        <updated>2026-01-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[If you‚Äôve ever worked with microcontrollers, the thought of connecting a component directly to one of the GPIO pins has probably crossed your mind.]]></summary>
        <content type="html"><![CDATA[<p>If you‚Äôve ever worked with microcontrollers, the thought of connecting a component directly to one of the GPIO pins has probably crossed your mind.<br>
<!-- -->I mean ‚Äî why not?</p>
<p>A GPIO can source current, power LEDs, and sometimes you don‚Äôt even need a resistor for a quick test. So if it works for LEDs and sensors, surely it should work for a buzzer as well‚Ä¶ right?</p>
<p>Well.<br>
<!-- -->This is the story of how that assumption almost cost me a microcontroller.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-context">The Context<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#the-context" class="hash-link" aria-label="Direct link to The Context" title="Direct link to The Context" translate="no">‚Äã</a></h2>
<p>While working on the earlier versions of <strong>eduLAB</strong>, I na√Øvely decided to connect a <strong>HW-508 passive piezo buzzer</strong> directly to one of the GPIO pins on my <strong>ESP32-C3</strong> board.</p>
<p>At the time, this felt completely reasonable.<br>
<!-- -->I had already seen countless examples of people driving LEDs, sensors, and even buzzers straight from GPIO pins. I was still very much a beginner (and honestly, still am), so I didn‚Äôt think twice about it.</p>
<p>In my head, the logic was simple:</p>
<blockquote>
<p>‚ÄúIf it works for LEDs, it should work for a buzzer as well.‚Äù</p>
</blockquote>
<p>That assumption turned out to be‚Ä¶ optimistic.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-assumption-and-why-its-wrong">The Assumption (And Why It‚Äôs Wrong)<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#the-assumption-and-why-its-wrong" class="hash-link" aria-label="Direct link to The Assumption (And Why It‚Äôs Wrong)" title="Direct link to The Assumption (And Why It‚Äôs Wrong)" translate="no">‚Äã</a></h2>
<p>A very common beginner assumption in electronics is that GPIO pins can be used as small power supplies.</p>
<p>They can‚Äôt.</p>
<p>GPIO pins are <strong>logic outputs</strong>, not power rails. Their job is to represent digital states ‚Äî HIGH or LOW ‚Äî and control other circuitry. Yes, they <em>can</em> source or sink current, but only within very tight limits.</p>
<p>Most microcontrollers specify:</p>
<ul>
<li class="">An <strong>absolute maximum</strong> GPIO current (often around 40 mA)</li>
<li class="">A much lower <strong>recommended operating current</strong> (often just a few mA)</li>
</ul>
<p>Going beyond those limits doesn‚Äôt usually fail immediately ‚Äî which is exactly what makes it dangerous.</p>
<p>You <em>can</em> even calculate the theoretical power:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mo>=</mo><mi>V</mi><mo>‚ãÖ</mo><mi>I</mi></mrow><annotation encoding="application/x-tex">P = V \cdot I</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span></span>
<p>At 3.3 V and 40 mA, that‚Äôs roughly 0.13 W.<br>
<!-- -->That‚Äôs plenty for logic signals and small LEDs ‚Äî but it‚Äôs not what GPIO pins are <em>designed</em> to deliver continuously, especially into reactive loads.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-actually-happened">What Actually Happened<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#what-actually-happened" class="hash-link" aria-label="Direct link to What Actually Happened" title="Direct link to What Actually Happened" translate="no">‚Äã</a></h2>
<p>As I do with any new component, I connected an oscilloscope to see how the voltage actually behaved across the buzzer.</p>
<p>What I saw immediately made my stomach drop.</p>
<p><img decoding="async" loading="lazy" alt="Oscilloscope capture of GPIO driving piezo buzzer directly" src="https://matidashkov07.github.io/portfolio_eduLAB/assets/images/Direct-GPIO-Drive-3c055149de808d8672ae01df75e7b916.jpg" width="3072" height="4096" class="img_ev3q"></p>
<p>Instead of clean square-wave transitions, the signal showed:</p>
<ul>
<li class="">Sharp transients</li>
<li class="">Overshoot and undershoot</li>
<li class="">A slow exponential decay</li>
<li class="">Asymmetric behavior between rising and falling edges</li>
</ul>
<p>At first, I was completely confused.</p>
<p>My initial guess was that I was seeing a capacitor charging and discharging. The curve <em>looked</em> similar. But something didn‚Äôt add up: charging appeared almost instantaneous, while the ‚Äúdischarge‚Äù took orders of magnitude longer.</p>
<p>In physics terms ‚Äî what goes up should come down in roughly the same time.<br>
<!-- -->Here, it clearly didn‚Äôt.</p>
<p>So I scrapped that explanation.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-hidden-detail-the-buzzer-is-not-what-it-seems">The Hidden Detail: The Buzzer Is Not What It Seems<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#the-hidden-detail-the-buzzer-is-not-what-it-seems" class="hash-link" aria-label="Direct link to The Hidden Detail: The Buzzer Is Not What It Seems" title="Direct link to The Hidden Detail: The Buzzer Is Not What It Seems" translate="no">‚Äã</a></h2>
<p>At this point, I started digging deeper into what the HW-508 buzzer actually is.</p>
<p>This sent me down a rabbit hole.</p>
<p>I initially focused on inductors ‚Äî one of the ‚Äúbig three‚Äù passive components (resistors, capacitors, inductors). Inductors had always felt a bit like an urban legend to me: I knew they existed, but rarely <em>saw</em> them matter.</p>
<p>But then I realized something important:</p>
<p>The HW-508 is a <strong>piezoelectric buzzer</strong>.</p>
<p>Electrically, that means it behaves mostly like a <strong>capacitive load</strong>, not an inductive one.</p>
<p>This completely changes the physics.</p>
<p>A capacitor resists <em>changes in voltage</em>. The faster you try to change the voltage, the more instantaneous current it demands:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>i</mi><mo>=</mo><mi>C</mi><mo>‚ãÖ</mo><mfrac><mrow><mi>d</mi><mi>V</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">i = C \cdot \frac{dV}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p>When the GPIO pin tries to create a fast edge:</p>
<ul>
<li class="">The piezo demands a sharp current spike</li>
<li class="">The GPIO pin cannot supply it cleanly</li>
<li class="">The internal output transistors hit their limits</li>
<li class="">The voltage waveform becomes distorted</li>
</ul>
<p>What I was seeing on the scope was not a clean digital signal ‚Äî it was the response of a <strong>weak voltage source driving a reactive load</strong>, combined with parasitics from wiring and the probe itself.</p>
<p>In other words: an unintended little RLC system.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-the-rising-and-falling-edges-look-asymmetric">Why the Rising and Falling Edges Look Asymmetric<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#why-the-rising-and-falling-edges-look-asymmetric" class="hash-link" aria-label="Direct link to Why the Rising and Falling Edges Look Asymmetric" title="Direct link to Why the Rising and Falling Edges Look Asymmetric" translate="no">‚Äã</a></h2>
<p>At first, this asymmetry didn‚Äôt make sense to me.</p>
<p>A capacitor is supposed to be electrically symmetric ‚Äî it should charge and discharge with similar time constants, assuming the same resistance. So seeing a very fast rise but a much slower decay felt wrong.</p>
<p>What I later realized is that the asymmetry wasn‚Äôt coming from the piezo itself.</p>
<p>It was coming from the <strong>GPIO pin</strong>.</p>
<p>The ESP32 GPIO output stage is not an ideal voltage source. Internally, it has:</p>
<ul>
<li class="">Different output resistance when sourcing vs. sinking current</li>
<li class="">Protection structures (ESD diodes) connected to the power rails</li>
</ul>
<p>When driving a capacitive load with fast edges, the voltage can briefly overshoot or undershoot. Once that happens, the internal protection paths start conducting.</p>
<p>At that point, the signal no longer follows a simple RC model.<br>
<!-- -->The discharge path becomes longer and asymmetric ‚Äî not because of the capacitor, but because the GPIO‚Äôs protection circuitry is now involved.</p>
<p>In short:<br>
<strong>The piezo was behaving like a capacitor.<br>
<!-- -->The GPIO was the part fighting back.</strong></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-the-gpio-pin-didnt-instantly-die">Why the GPIO Pin Didn‚Äôt Instantly Die<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#why-the-gpio-pin-didnt-instantly-die" class="hash-link" aria-label="Direct link to Why the GPIO Pin Didn‚Äôt Instantly Die" title="Direct link to Why the GPIO Pin Didn‚Äôt Instantly Die" translate="no">‚Äã</a></h2>
<p>One thing worth clarifying: my GPIO pin survived ‚Äî barely.</p>
<p>This wasn‚Äôt because the design was good.<br>
<!-- -->It was because modern microcontrollers include <strong>internal protection structures</strong> to prevent immediate destruction.</p>
<p>These protections are not meant to absorb continuous transient energy.<br>
<!-- -->They are there for accidents, not as a design feature.</p>
<p>Today, the pin survived.<br>
<!-- -->Tomorrow, with a slightly different load, frequency, or duty cycle ‚Äî maybe not.</p>
<p>And in twenty years? You might accidentally wipe out an entire CPU generation.</p>
<p>No shade to Intel, of course üòÖ</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-proper-way-to-do-it">The Proper Way to Do It<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#the-proper-way-to-do-it" class="hash-link" aria-label="Direct link to The Proper Way to Do It" title="Direct link to The Proper Way to Do It" translate="no">‚Äã</a></h2>
<p>So what <em>is</em> the correct way to drive a buzzer?</p>
<p>You isolate the microcontroller from the load.</p>
<p>A transistor acts as an electrically controlled switch:</p>
<ul>
<li class="">The GPIO only drives the transistor‚Äôs base or gate (very low current)</li>
<li class="">The buzzer is powered from a proper supply rail</li>
<li class="">Transients never reach the microcontroller pin</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Transistor-driven buzzer schematic" src="https://matidashkov07.github.io/portfolio_eduLAB/assets/images/flyback-diode-schematic-45462ccdcb7deba9c11bb91cfa3bb473.png" width="499" height="515" class="img_ev3q"></p>
<p>In my case, I used a <strong>2N2222 NPN transistor</strong>, which allowed me to:</p>
<ul>
<li class="">Power the buzzer from 5 V</li>
<li class="">Cleanly switch it on and off</li>
<li class="">Remove stress from the GPIO entirely</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="a-quick-note-on-flyback-diodes">A Quick Note on Flyback Diodes<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#a-quick-note-on-flyback-diodes" class="hash-link" aria-label="Direct link to A Quick Note on Flyback Diodes" title="Direct link to A Quick Note on Flyback Diodes" translate="no">‚Äã</a></h3><p>In this specific case, the HW-508 piezo buzzer is a <strong>capacitive load</strong>, so a flyback diode is not strictly required. Capacitors don‚Äôt generate back-EMF like inductors do.</p><p>However, in the <strong>next version of eduLAB</strong>, I replaced the buzzer with an <strong>8Œ© speaker</strong>, which <em>is</em> an inductive load.</p><p>At that point, a flyback diode was no longer optional ‚Äî it was mandatory.</p><p>Without it, the inductive kickback would have pushed dangerous voltage spikes straight into the transistor and back toward the microcontroller.</p><p>That transition ‚Äî from a piezo to a real speaker ‚Äî is where this lesson became impossible to ignore.</p><p>You can read more about that in this post:
<a class="" href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis">Saved by Physics: Analyzing Inductive Kickback &amp; Back EMF </a></p></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-this-taught-me">What This Taught Me<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#what-this-taught-me" class="hash-link" aria-label="Direct link to What This Taught Me" title="Direct link to What This Taught Me" translate="no">‚Äã</a></h2>
<p>This experience taught me to <strong>always</strong> research components before wiring them together.</p>
<p>Today, I was saved by protection circuitry and a bit of luck.<br>
<!-- -->Tomorrow, you might burn a board.<br>
<!-- -->And one day, you might ship a design that fails in the field.</p>
<p>Mistakes are normal.<br>
<!-- -->Ignoring what they teach you isn‚Äôt.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-this-fits-into-edulab-v38">How This Fits Into eduLAB v3.8<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/never-connect-buzzer-directly#how-this-fits-into-edulab-v38" class="hash-link" aria-label="Direct link to How This Fits Into eduLAB v3.8" title="Direct link to How This Fits Into eduLAB v3.8" translate="no">‚Äã</a></h2>
<p>This incident was a turning point in the project.</p>
<p>It pushed me toward:</p>
<ul>
<li class="">Transistor-driven output stages</li>
<li class="">Treating GPIO pins strictly as control signals</li>
<li class="">Measuring real signals instead of trusting ‚Äúit works‚Äù</li>
</ul>
<p>The result was the next phase of eduLAB: PWM-controlled sound generation using a proper output stage.</p>
<p><img decoding="async" loading="lazy" alt="PWM + transistor driven speaker output" src="https://matidashkov07.github.io/portfolio_eduLAB/assets/images/kickback-scope-trace-04b7215d769b3cf9e9523d5ca20ce798.jpg" width="3072" height="4096" class="img_ev3q"></p>
<p>What I observed wasn‚Äôt a clean, textbook effect ‚Äî it was the combined behavior of a weak GPIO driver, a reactive load, and internal protection circuitry.
I don‚Äôt need to model it perfectly to know it was a bad design choice.</p>
<p>This mistake was worth its weight in gold ‚Äî because I actually stopped to understand it.</p>]]></content>
        <author>
            <name>Mati Dashkov</name>
            <uri>https://github.com/MatiDashkov07</uri>
        </author>
        <category label="hardware" term="hardware"/>
        <category label="gpio" term="gpio"/>
        <category label="buzzer" term="buzzer"/>
        <category label="piezo" term="piezo"/>
        <category label="oscilloscope" term="oscilloscope"/>
        <category label="esp32" term="esp32"/>
        <category label="beginner-mistakes" term="beginner-mistakes"/>
        <category label="edulab-synthesis-engine" term="edulab-synthesis-engine"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Saved by Physics: Analyzing Inductive Kickback & Back EMF]]></title>
        <id>https://MatiDashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis</id>
        <link href="https://MatiDashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis"/>
        <updated>2026-01-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[During a routine test of the eduLAB Synthesis Engine's audio output stage, I encountered a phenomenon that could have easily destroyed my ESP32 microcontroller. What started as a weird spike on the oscilloscope turned into a deep dive into electromagnetic induction.]]></summary>
        <content type="html"><![CDATA[<p>During a routine test of the eduLAB Synthesis Engine's audio output stage, I encountered a phenomenon that could have easily destroyed my ESP32 microcontroller. What started as a weird spike on the oscilloscope turned into a deep dive into electromagnetic induction.</p>
<p>Here is how I diagnosed, analyzed, and solved an Inductive Kickback event.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-context-driving-an-inductive-load">The Context: Driving an Inductive Load<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#the-context-driving-an-inductive-load" class="hash-link" aria-label="Direct link to The Context: Driving an Inductive Load" title="Direct link to The Context: Driving an Inductive Load" translate="no">‚Äã</a></h2>
<p>We are currently in <strong>Phase v3.8</strong> of the project. The goal was to test the direct drive capabilities of the output transistor stage before integrating the final DAC. The setup involved connecting a small 8Œ© speaker coil directly to the switching circuit controlled by a GPIO pin.</p>
<p>Everything sounded fine, but as an engineer, "sounding fine" isn't enough. I hooked up the Rigol oscilloscope to monitor the voltage levels on the drain of the MOSFET/Output pin.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-symptom">The Symptom<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#the-symptom" class="hash-link" aria-label="Direct link to The Symptom" title="Direct link to The Symptom" translate="no">‚Äã</a></h2>
<p>When I cut the power to the coil (simulating a logic LOW or a disconnection), the oscilloscope captured this alarming transient response:</p>
<p><img decoding="async" loading="lazy" alt="Oscilloscope Trace of Voltage Spike" src="https://matidashkov07.github.io/portfolio_eduLAB/assets/images/kickback-scope-trace-04b7215d769b3cf9e9523d5ca20ce798.jpg" width="3072" height="4096" class="img_ev3q"></p>
<p><strong>The Analysis:</strong></p>
<ul>
<li class=""><strong>System Logic Level:</strong> 3.3V (ESP32 standard).</li>
<li class=""><strong>Measured Spike:</strong> <strong>6.16V</strong>.</li>
<li class=""><strong>Risk:</strong> This is nearly double the maximum rated voltage for the ESP32 GPIO pins. A sustained spike of this magnitude would likely cause dielectric breakdown in the transistor gates inside the chip, permanently damaging the microcontroller.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-physics-deep-dive-into-back-emf">The Physics: Deep Dive into Back EMF<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#the-physics-deep-dive-into-back-emf" class="hash-link" aria-label="Direct link to The Physics: Deep Dive into Back EMF" title="Direct link to The Physics: Deep Dive into Back EMF" translate="no">‚Äã</a></h2>
<p>Why did the voltage jump when the power was <em>cut</em>? The answer lies in the physics of inductors.</p>
<p>A speaker voice coil is electrically an <strong>Inductor (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span>)</strong>. Inductors store energy in a magnetic field. According to Faraday's Law of Induction and Lenz's Law, an inductor resists any change in the current flowing through it.</p>
<p>The voltage across an inductor is defined by the formula:</p>
<p><strong>The Inductor Voltage Formula:</strong></p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>V</mi><mi>L</mi></msub><mo>=</mo><mo>‚àí</mo><mi>L</mi><mo>‚ãÖ</mo><mfrac><mrow><mi>d</mi><mi>i</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">V_L = -L \cdot \frac{di}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">‚àí</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">‚ãÖ</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>
<p>Where:</p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>L</mi></msub></mrow><annotation encoding="application/x-tex">V_{L}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> is the induced electromotive force (EMF).</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span></span></span></span> is the inductance (in Henries).</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>d</mi><mi>i</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{di}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> is the rate of change of current over time.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-happened-in-the-circuit">What happened in the circuit?<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#what-happened-in-the-circuit" class="hash-link" aria-label="Direct link to What happened in the circuit?" title="Direct link to What happened in the circuit?" translate="no">‚Äã</a></h3>
<ol>
<li class=""><strong>Switch Closed:</strong> Current (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span>) flows steadily through the coil. The magnetic field is stable.</li>
<li class=""><strong>Switch Opened:</strong> We tried to stop the current instantly. This means <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">dt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span></span> (time change) approaches zero.</li>
<li class=""><strong>The Result:</strong> Since we are dividing by a number close to zero, the rate of change (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>d</mi><mi>i</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{di}{dt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>) becomes huge and negative.</li>
<li class=""><strong>The Spike:</strong> The inductor responds by creating a massive <strong>positive voltage</strong> in the opposite direction to try and keep the current flowing. This is the "Kickback" (or Flyback).</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-solution-flyback-diode">The Solution: Flyback Diode<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#the-solution-flyback-diode" class="hash-link" aria-label="Direct link to The Solution: Flyback Diode" title="Direct link to The Solution: Flyback Diode" translate="no">‚Äã</a></h2>
<p>To fix this, we need to provide a safe path for this stored energy to dissipate, so it doesn't force its way through the microcontroller or the transistor.</p>
<p>We introduced a <strong>Flyback Diode</strong> (also known as a Snubber or Freewheeling Diode) placed anti-parallel to the inductive load.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-modified-schematic">The Modified Schematic<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#the-modified-schematic" class="hash-link" aria-label="Direct link to The Modified Schematic" title="Direct link to The Modified Schematic" translate="no">‚Äã</a></h3>
<p><img decoding="async" loading="lazy" alt="Circuit Schematic with Flyback Diode" src="https://matidashkov07.github.io/portfolio_eduLAB/assets/images/flyback-diode-schematic-45462ccdcb7deba9c11bb91cfa3bb473.png" width="499" height="515" class="img_ev3q"></p>
<p><strong>How it works:</strong></p>
<ol>
<li class=""><strong>Normal Operation:</strong> The diode is reverse-biased (blocking). No current flows through it.</li>
<li class=""><strong>Switch Off:</strong> The inductor reverses polarity (the "Kickback").</li>
<li class=""><strong>Protection Mode:</strong> The diode becomes forward-biased. The current circulates through the diode and the coil loop until the energy dissipates as heat in the wire resistance (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>w</mi><mi>i</mi><mi>r</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{wire}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">re</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span>), clamping the voltage spike to a safe level (usually <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mrow><mi>c</mi><mi>c</mi></mrow></msub><mo>+</mo><mn>0.7</mn><mi>V</mi></mrow><annotation encoding="application/x-tex">V_{cc} + 0.7V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">cc</span></span></span></span></span><span class="vlist-s">‚Äã</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">0.7</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span></span></span></span>).</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion">Conclusion<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/inductive-kickback-analysis#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion" translate="no">‚Äã</a></h2>
<p>This investigation reinforced a critical lesson in embedded hardware design: <strong>Never treat components as ideal.</strong> A speaker isn't just a resistor; it's an energy storage device.</p>
<p>By visualizing the signal on the oscilloscope, we caught a potential hardware-killing bug that a simple multimeter or listening test would have missed.</p>
<p><strong>Next Steps:</strong></p>
<ul>
<li class="">Implementing a permanent 1N5819 Schottky diode (for faster switching speed) on the PCB v4.0.</li>
<li class="">Further analysis of the analog filter stage to ensure signal integrity.</li>
</ul>]]></content>
        <author>
            <name>Mati Dashkov</name>
            <uri>https://github.com/MatiDashkov07</uri>
        </author>
        <category label="hardware" term="hardware"/>
        <category label="debugging" term="debugging"/>
        <category label="theory" term="theory"/>
        <category label="oscilloscope" term="oscilloscope"/>
        <category label="esp32" term="esp32"/>
        <category label="analog-design" term="analog-design"/>
        <category label="measurements" term="measurements"/>
        <category label="edulab-synthesis-engine" term="edulab-synthesis-engine"/>
        <category label="circuit-protection" term="circuit-protection"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome to eduLAB Engineering Blog]]></title>
        <id>https://MatiDashkov07.github.io/portfolio_eduLAB/blog/welcome-to-edulab-blog</id>
        <link href="https://MatiDashkov07.github.io/portfolio_eduLAB/blog/welcome-to-edulab-blog"/>
        <updated>2026-01-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Welcome to the eduLAB Engineering Blog! This is where I document my journey from breadboard tinkerer to professional hardware designer.]]></summary>
        <content type="html"><![CDATA[<p>Welcome to the eduLAB Engineering Blog! This is where I document my journey from breadboard tinkerer to professional hardware designer.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-this">What is This?<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/welcome-to-edulab-blog#what-is-this" class="hash-link" aria-label="Direct link to What is This?" title="Direct link to What is This?" translate="no">‚Äã</a></h2>
<p>I'm an 18-year-old Israeli student building embedded systems projects and preparing for an Electrical &amp; Computer Engineering degree at Technion. This blog is my way of "building in public" - sharing what I learn, the mistakes I make, and the breakthroughs I discover along the way.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-build-in-public">Why Build in Public?<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/welcome-to-edulab-blog#why-build-in-public" class="hash-link" aria-label="Direct link to Why Build in Public?" title="Direct link to Why Build in Public?" translate="no">‚Äã</a></h2>
<p>Building in public means documenting the process, not just the polished results. You'll find:</p>
<ul>
<li class=""><strong>Build logs</strong>: Step-by-step documentation of projects</li>
<li class=""><strong>Debugging stories</strong>: Real problems I encountered and how I solved them</li>
<li class=""><strong>Theory posts</strong>: Deep dives into concepts I'm learning</li>
<li class=""><strong>Project updates</strong>: Progress on ongoing work</li>
</ul>
<p>The goal isn't to impress, but to learn and help others who might be on similar paths.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-coming">What's Coming<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/welcome-to-edulab-blog#whats-coming" class="hash-link" aria-label="Direct link to What's Coming" title="Direct link to What's Coming" translate="no">‚Äã</a></h2>
<p>The first major project I'll be documenting here is the <strong>eduLAB Synthesis Engine</strong> - a high-performance audio synthesis engine running on Teensy 4.1. Expect posts about:</p>
<ul>
<li class="">Real-time DSP programming challenges</li>
<li class="">Mixed-signal hardware design decisions</li>
<li class="">PCB layout considerations</li>
<li class="">Debugging I2S audio interfaces</li>
<li class="">And plenty of "what went wrong" stories</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="join-the-journey">Join the Journey<a href="https://matidashkov07.github.io/portfolio_eduLAB/blog/welcome-to-edulab-blog#join-the-journey" class="hash-link" aria-label="Direct link to Join the Journey" title="Direct link to Join the Journey" translate="no">‚Äã</a></h2>
<p>If you're interested in embedded systems, hardware design, or just curious about how things work, I hope you'll find something useful here. Feel free to reach out if you have questions or want to discuss projects!</p>
<p>Let's build something together.</p>]]></content>
        <author>
            <name>Mati Dashkov</name>
            <uri>https://github.com/MatiDashkov07</uri>
        </author>
        <category label="announcement" term="announcement"/>
        <category label="edulab-synthesis-engine" term="edulab-synthesis-engine"/>
    </entry>
</feed>